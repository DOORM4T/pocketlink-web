(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{129:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(45),r=a.n(n),c=a(0),i=a.n(c),l=a(11),o=a(15),s=a(5),u=a(9);function m(e){var t=e.placeholder,a=e.onChange,n=e.value,r=e.isWarning,l=void 0!==r&&r,o=e.warningMessage,s=Object(c.useRef)(null);return Object(c.useEffect)((function(){s.current.select()}),[]),i.a.createElement(u.a.input,{value:n,className:"input is-large mr-6 ".concat(l?"is-danger":""),type:"text",name:"link",placeholder:t,onChange:a,initial:{x:50},animate:{x:0},whileTap:{scale:1.01},"data-tip":o,"data-tip-disable":!l,ref:s})}var p=Object(c.createContext)({customURL:"",originalURL:"",setCustomURL:null,setOriginalURL:null});function d(e){var t=e.handleClick,a=e.position,n=void 0===a?"right":a,r=e.type,c=void 0===r?"button":r,l=e.children,o=e.className;return i.a.createElement(u.a.button,{className:"button is-primary  mt-2 ".concat("right"===n?"is-pulled-right":""," ").concat(o),type:c,initial:{scale:1,filter:"brightness(100%)"},whileTap:{scale:1.05,filter:"brightness(120%)"},onClick:t},l)}var h=a(47),g=a.n(h),f=a(20);function b(){var e=Object(c.useContext)(p),t=e.originalURL,a=e.setOriginalURL,n=Object(c.useState)(!1),r=Object(l.a)(n,2),o=r[0],u=r[1],h=Object(s.e)();return i.a.createElement("form",{className:"control px-6",action:"",onSubmit:function(e){e.preventDefault(),g()(t)?(t.includes("http://")||t.includes("https://")||a((function(){return"http://"+t})),u((function(){return!1})),f.a.hide(),h.push("/customize")):u((function(){return!0}))}},i.a.createElement(m,{placeholder:"enter a url to shorten",onChange:function(e){var t=e.target.value;a((function(){return t}))},value:t,isWarning:o,warningMessage:"invalid URL"}),i.a.createElement(d,{type:"submit"},"Next"))}var v=a(32),E=a.n(v),y=a(48),k=a(69).meaningful;var x=a(49),O=a(23),w=a(25),L=a(50),j=a.n(L),R=a(24),N=(a(96),a(97),a(51));R.initializeApp(N);var U=R.firestore().collection("links"),C=R.functions();function S(){var e=Object(c.useContext)(p),t=e.originalURL,a=e.customURL,n=e.setCustomURL,r=Object(c.useState)(!0),o=Object(l.a)(r,2),u=o[0],h=o[1],g=Object(s.e)(),f=Object(c.useState)(!1),b=Object(l.a)(f,2),v=b[0],L=b[1];Object(c.useEffect)((function(){t||g.push("/")}),[]),Object(c.useEffect)((function(){R()}),[u]);var R=function(){var e=u?function(){var e=k().toLowerCase().split("-"),t=e[0];return e[0]=e[1],e[1]=t,e.join("-")}():Object(x.generate)();n((function(){return e}))};return i.a.createElement("form",{className:"control px-6",action:"",onSubmit:function(){var e=Object(y.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),L((function(){return!1})),e.prev=2,e.next=5,U.where("shortened","==",a).get();case 5:if(n=e.sent,r=n.docs.length,console.log(r),!(r>0)){e.next=11;break}return L((function(){return!0})),e.abrupt("return");case 11:v||g.push("completed"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),alert("Ran into an unexpected issue. Apologies for the inconvenience!"),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}()},i.a.createElement("p",null,t),i.a.createElement(m,{placeholder:"set custom URL",onChange:function(e){var t=e.target.value;n((function(){return t}))},value:a,isWarning:v,warningMessage:"Shortened URL already exists"}),i.a.createElement(d,{type:"submit"},"Create"),i.a.createElement("button",{type:"button",className:"button is-warning is-pulled-right mt-2 mr-2",onClick:R,"data-tip":"generate random","data-delay-show":200,"data-place":"bottom"},i.a.createElement(O.a,{icon:w.b})),i.a.createElement("div",{"data-tip":"toggle format","data-effect":"float"},i.a.createElement(j.a,{checked:u,onChange:function(){h((function(){return!u}))},checkedIcon:i.a.createElement("div",{style:{display:"grid",placeItems:"center",height:"100%"}},i.a.createElement(O.a,{icon:w.a,size:"lg"})),uncheckedIcon:i.a.createElement("div",{style:{display:"grid",placeItems:"center",height:"100%"}},i.a.createElement(O.a,{icon:w.c,size:"lg"})),height:40,width:70,id:"toggleMeaningfulSwitch",className:"is-pulled-right mt-2 mr-2"})))}var I=a(52),z=a(54),B=a.n(z);function T(){var e=Object(c.useContext)(p),t=e.customURL,a=e.originalURL,n=e.setCustomURL,r=e.setOriginalURL,o=Object(s.e)(),m=Object(c.useState)(!1),h=Object(l.a)(m,2),g=h[0],f=h[1],b=C.httpsCallable("createShortenedURL");Object(c.useEffect)((function(){g||b({original:a,shortened:t}).then((function(){f((function(){return!0})),console.log("createdURL")})).catch(console.error)}),[]);return i.a.createElement("div",null,i.a.createElement("div",{style:{display:"".concat(g?"none":"grid"),placeItems:"center"}},i.a.createElement(I.BounceLoader,{size:200,color:"white"})),i.a.createElement("div",{style:{display:"".concat(g?"block":"none")}},i.a.createElement("p",null,i.a.createElement("span",{className:"has-text-weight-bold"},t?"http://pocketlink.herokuapp.com/".concat(t):"<missing>"),i.a.createElement("br",null),i.a.createElement(d,{handleClick:function(){n((function(){return""})),r((function(){return""})),f((function(){return!1})),o.push("/")},position:"center",className:"mr-2 is-danger"},"Home"),i.a.createElement(d,{handleClick:function(){navigator.clipboard.writeText("http://pocketlink.herokuapp.com/".concat(t))},position:"center",className:"is-warning"},"Copy"),i.a.createElement("hr",null),i.a.createElement("span",{className:"has-text-weight-bold"},a||"<missing>")),i.a.createElement("div",{className:"container"}),i.a.createElement(u.a.div,{style:{display:"grid",placeItems:"center"},initial:{scale:1},animate:{scale:1.1}},i.a.createElement(B.a,{value:t,size:400}))))}var M=a(55),D=a.n(M);function G(){var e=Object(s.e)(),t=Object(c.useContext)(p),a=(t.customURL,t.originalURL,t.setCustomURL),n=t.setOriginalURL;return i.a.createElement("nav",{className:"navbar is-dark",role:"navigation","aria-label":"main navigation",style:{boxShadow:"0 2px 4px black"}},i.a.createElement("div",{className:"navbar-brand"},i.a.createElement("a",{className:"navbar-item",onClick:function(){window.confirm("Returning to Home.\n This operation will clear your current progress.\n Do you wish to return home and clear your progress?")&&(a((function(){return""})),n((function(){return""})),e.push("/"))}},i.a.createElement(u.a.img,{src:D.a,width:"50",height:"50",initial:{scale:1.5,rotateZ:"0deg"},whileHover:{scale:1.7,rotateZ:"10deg"},transition:{type:"spring",velocity:2}}))),i.a.createElement("div",{className:"navbar-menu"},i.a.createElement("div",{className:"navbar-end"},i.a.createElement("div",{className:"navbar-item"},i.a.createElement("div",{className:"buttons"},i.a.createElement("button",{className:"button is-primary",disabled:!0},i.a.createElement("strong",null,"Sign up")),i.a.createElement("button",{className:"button is-light",disabled:!0},"Log in"))))))}a(128),a(129),a(22),a(130);function H(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),m=Object(l.a)(r,2),d=m[0],h=m[1];return i.a.createElement(p.Provider,{value:{customURL:d,originalURL:a,setOriginalURL:n,setCustomURL:h}},i.a.createElement(o.a,null,i.a.createElement(G,null),i.a.createElement("section",{className:"has-background-success has-text-white",style:{boxShadow:"0 -5px 20px black",height:"100vh"}},i.a.createElement("div",{className:"hero-body has-text-centered"},i.a.createElement(u.a.div,{className:"container"},i.a.createElement(u.a.h1,{initial:{scale:.8,textShadow:"0 1px 1px black"},animate:{scale:1},transition:{type:"spring",damping:12,velocity:2},className:"title has-text-white"},"PocketLink"),i.a.createElement(s.a,{path:"/",exact:!0},i.a.createElement(A,{name:"Enter a URL"}),i.a.createElement(b,null)),i.a.createElement(s.a,{path:"/customize"},i.a.createElement(A,{name:"Customize"}),i.a.createElement(S,null)),i.a.createElement(s.a,{path:"/completed"},i.a.createElement(A,{name:"Here's your link:"}),i.a.createElement(T,null))))),i.a.createElement(f.a,{place:"bottom"})))}function A(e){var t=e.name;return i.a.createElement(u.a.h2,{className:"subtitle has-text-white",initial:{y:-15,opacity:0},animate:{y:.8,opacity:1},transition:{delay:.2}},t)}var J=document.getElementById("root");r.a.render(i.a.createElement(H,null),J)},51:function(e){e.exports=JSON.parse('{"apiKey":"AIzaSyBxBVgdYc-MG36jQELeVkGcq-Z1T5mup_k","authDomain":"pocketurl-afc1f.firebaseapp.com","databaseURL":"https://pocketurl-afc1f.firebaseio.com","projectId":"pocketurl-afc1f","storageBucket":"pocketurl-afc1f.appspot.com","messagingSenderId":"323699504639","appId":"1:323699504639:web:e88ef555a16a83679723ca","measurementId":"G-640B1GT151"}')},55:function(e,t,a){e.exports=a.p+"static/media/pocketlink.ec5d3637.svg"},56:function(e,t,a){e.exports=a(131)}},[[56,1,2]]]);
//# sourceMappingURL=main.9dd942d6.chunk.js.map